<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Tic Tac Toe Project Report</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./style.css">
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <header class="header-menu">
            <a class="header-button" href="./index.html#mtb-title">Meeting the Brief</a>
            <a class="header-button" href="./index.html#iap-title">Investigation and Plan</a>
            <a class="header-button" href="./index.html#d-title">Design</a>
            <a class="header-button" href="./index.html#i-title">Implementation</a>
            <a class="header-button" href="./index.html#t-title">Testing</a>
            <a class="header-button" href="./index.html#e-title">Evaluation</a>
            <a class="header-button" href="./index.html#r-title">References</a>
            <a class="header-button" href="./index.html#sawc-title">Summary and Word Count</a>
        </header>

        <div class="report">
            <h1 id="h-title">Computer Science Project: Tic Tac Toe</h1>

            <h2 id="mtb-title">Meeting the Brief</h2>
            <video controls>
                <source src="./content/cs project meeting the brief.mp4" type="video/mp4">
                Your browser doesn't support the video element. Consider using a different browser!
            </video>
            <h2 id="iap-title">Investigation and Plan</h2>
            <p>
                I knew immediately upon reading the brief that I wanted to use this opportunity to find out the best strategy to win in whatever game I chose.
                I started my investigation of the brief by first listing a number of different games, and then writing all of the pros and cons associated with them.
            </p>
            <ul>
                <li>Tic Tac Toe
                    <ul>
                        <li>Pros:
                            <ul>
                                <li>Easy to code</li>
                                <li>Easy to learn</li>
                            </ul>
                        </li>
                        <li>Cons:
                            <ul>
                                <li>Boring</li>
                                <li>Solved game</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <br>
                <li>2048 - (<a href="https://play2048.co/">example</a>)
                    <ul>
                        <li>Pros:
                            <ul>
                                <li>Skilful</li>
                                <li>Plenty of randomness</li>
                                <li>Easily understandable</li>
                            </ul>
                        </li>
                        <li>Cons:
                            <ul>
                                <li>Relatively complex to code</li>
                                <li>Results in very long games</li>
                                <li>No multiplayer functionality</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <br>
                <li>Draughts
                    <ul>
                        <li>Pros:
                            <ul>
                                <li>Easily understandable</li>
                                <li>Easy to code</li>
                            </ul>
                        </li>
                        <li>Cons:
                            <ul>
                                <li>Weakly solved (given perfect play, it is a draw)</li>
                                <li>Difficult to analyse</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <br>
                <li>Blackjack
                    <ul>
                        <li>Pros:
                            <ul>
                                <li>Easy to learn and code</li>
                                <li>Randomness</li>
                            </ul>
                        </li>
                        <li>Cons:
                            <ul>
                                <li>Little data to analyse</li>
                                <li>Little replayability</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <br>
                <li>Battleship
                    <ul>
                        <li>Pros:
                            <ul>
                                <li>Analytically interesting</li>
                                <li>High replayability</li>
                                <li>Easy to understand and code</li>
                            </ul>
                        </li>
                        <li>Cons:
                            <ul>
                                <li>Potentially long games</li>
                                <li>Potentially complex to model</li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
            <p>
                I selected Battleship as the most promising game, due to the little cons and the personal interest I have in finding out what the best strategy to play is.
                I started doing some research into various ways people coded Battleship.
                I quickly realised that Battleship was far too complex for the scope of this project, and instead chose a much simpler game - Tic Tac Toe.
                I predicted that this would allow me to focus more of my time on making the game fun to play, instead of having an unfinished complex game.
                I briefly planned to use a game engine called Godot to program this game, as this would allow me to have a Graphical User Interface, but this added an unnecessary level of difficulty to the project, so I eventually decided against it.
            </p>
            <p>
                A personal objective was to have an option to allow the computer to play the best moves possible, so I did some research on different algorithms that might be suitable for the computer to use.
                There was an overwhelming consensus online that a minimax algorithm <a href="./index.html#ref1">[1]</a> was the only man for the job, and so I settled for that.
            </p>
            <p>
                My final plan from this research was to make a tic tac toe game, allow the user to play it through a Tkinter window, allow the singleplayer and simulation play modes to have both random and optimal modes for the computer, to store data from this game in a csv file, and to use the pandas and matplotlib libraries to analyse this data.
            </p>
            <h2 id="d-title">Design</h2>
            <p>
                I first planned on having a main menu with options for settings, play and quitting.
                In settings there would have been options to change things like the colour of the board, the players, the background, game window size, and changing the symbols themselves.
                I even planned on having multiple font options and the like.
            </p>
            <img src="./content/PXL_20230320_134859561.jpg" alt="An image showing a flowchart detailing the game process.">
            <p>
                I created a flowchart to show the various decision points and branches that this game would require.
                This allowed me to focus on different sections of code and design them individually.
                Then, I made out a list of functions that would be required.
            </p>
            <ul>
                <li>Start the game</li>
                <li>Display the board</li>
                <li>Restart the game</li>
                <li>Check if the game has been won</li>
                <li>Check if the game has been drawed</li>
                <li>Change the player</li>
                <li>Separate functions for starting each game mode</li>
                <li>Logging settings data in a JSON file</li>
                <li>Minimax algorithm</li>
                <li>Log data</li>
            </ul>
            <p>
                I decided against making a function for making a random move as that was so simple that it would be faster for the computer to run the two lines than to search for a function and run the two lines.
                This remains an exception to my rule of thumb of "readable code is better than fast code".
            </p>
            <p>
                I used abstraction to turn the board into a dictionary and each individual cell into a number from 1 to 9.
                I modelled the computer player as a minimax algorithm or a random number from 1 to 9 generator, depending on the user's selection.
            </p>
            <p>
                My final designn at this stage was a tic tac toe game, played through a Tkinter window, that would have a settings menu to customise the game window, and options for all three gamemodes with Random moves and Optimal moves the two options for the computer.
                After I later changed my mind about using Tkinter and instead using only the console, I changed the design a bit.
                I got rid of the idea for a settings menu.
                I did some brief research into animating the text in the console and changing the colour, but I could only find examples that used an external library, of which I was using too many already.
                I opted instead for the simplest graphical approach, and allowed myself the option of later adding colour or animation.
            </p>
            <h2 id="i-title">Implementation</h2>
            <p>
                Originally, I used code from a RealPython tutorial <a href="./index.html#ref2">[2]</a> to build my game, but after a few weeks of fiddling with Tkinter, I gave up on having a GUI and instead opted to have the user play the game through the console, which would allow me to bugtest problems much more easily, and not have to deal with the headache of graphic design.
                I revisited the design stage to plan out what the game would look like, and decided to get rid of the planned settings.
            </p>
            <p>
                Using the code from a Medium article <a href="./index.html#ref3">[3]</a>, I built a prototype quickly and then started to expand on it, adding the random computer selection for singleplayer and simulation, adding input testing so that the game wouldn't crash if the user entered the wrong number at any decision point.
                I added input testing to reject bad input, and added a one second delay after computer moves to make the user feel like the computer was thinking.
                The big problem came with the minimax algorithm, which was quite a difficult, abstract concept to wrap my head around.
                It took a while for me to realise that the very first if statement, checking if the state was a win or a loss, was what every single recall of the function was working towards.
                I had a lot of problems with reading the game board, too, and if I were to restart the project, I would use an array rather than a dictionary like the example code I started with used.
                The lifesaving sources I had to make sure I wasn't losing my mind was the two examples of the minimax algorithm being used for tic tac toe - <a href="./index.html#ref4">[4]</a> and <a href="./index.html#ref5">[5]</a>.
            </p>
            <p>
                With the whole game playable in all the required modes, I could focus on the data and data analysis.
                Instrumental in this stage of implementation was the script I wrote to automate the data gathering - the "ttt-autorunner.py".
                This program ran however many games the user asked it to, which gave me a great big sample size to analyse.
                The program was essentially the same random simulation from the main file, with all printing to the console removed and a for loop that ran the amount of times the user told it to.
                This proved essential to test various hypotheses such as whether there would be a difference in starting cells, as can be seen in the above video.
                matplotlib and pandas were tricky to work with, as there was such a choice to choose from that I had difficulty using the correct functions and variable names.
                It was also in this stage of implementation that I fully understood the lack of data points to visualise graphically, a failure on my part in the investigation stage of this project.
                I made use of a Programiz article <a href="./index.html#ref6">[6]</a> to help with the implementation of writing to the CSV file.
            </p>
            <h2 id="t-title">Testing</h2>
            <p>
                I made sure that for any input the user makes, the program would reject bad input and only accept good input, asking again if the input didn't match the requirements.
                As you can see in the below testing table, I made sure all kinds of possible inputs, between strings, floats and negative integers were accounted for.
            </p>
            <table class="tg">
                <thead>
                  <tr>
                    <th class="table-header">Test Case ID<br></th>
                    <th class="table-header">Test Description<br></th>
                    <th class="table-header">Expected Result</th>
                    <th class="table-header">Actual Result</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="table-element">TEST_01</td>
                    <td class="table-element">Testing whether inputting a number outside 1 to 9, in this test case the '-10', causes the computer to prompt the user to re-enter an appropiate number.</td>
                    <td class="table-element">The console should print: "Sorry, you must enter a valid cell number (a number between 1 and 9)".</td>
                    <td class="table-element"><samp>Sorry, you must enter a valid cell number (a number between 1 and 9)</samp></td>
                  </tr>
                  <tr>
                    <td class="table-element">TEST_02</td>
                    <td class="table-element">Testing whether inputting a float number between 1 and 9, in this test case '4.5', causes the computer to prompt the user to re-enter an appropiate number.</td>
                    <td class="table-element">The console should print: "Sorry, you must enter a valid cell number (a number between 1 and 9)".</td>
                    <td class="table-element"><samp>Sorry, you must enter a valid cell number (a number between 1 and 9)</samp></td>
                  </tr>
                  <tr>
                    <td class="table-element">TEST_03</td>
                    <td class="table-element">Testing whether inputting a string, in this test case 'Hello World', causes the computer to prompt the user to re-enter an appropiate number.</td>
                    <td class="table-element">The console should print: "Sorry, you must enter a valid cell number (a number between 1 and 9)".</td>
                    <td class="table-element"><samp>Sorry, you must enter a valid cell number (a number between 1 and 9)</samp></td>
                  </tr>
                  <tr>
                    <td class="table-element">TEST_04</td>
                    <td class="table-element">Testing whether inputting an occupied cell causes the program to remind the user that the selected cell is already occupied, and prompt them again.</td>
                    <td class="table-element">The console should print: "Sorry, that place is already filled.", print the board again, and print "It's your turn, O. Where would you like to place your symbol?<br>Cell number:".</td>
                    <td class="table-element"><samp>Sorry, that place is already filled.
                        X |   |
                        ― + ― + ―
                          |   |
                        ― + ― + ―
                          |   |
                        It's your turn, O. Where would you like to place your symbol?
                        Cell number:</samp></td>
                  </tr>
                </tbody>
                </table>
            <p>
                I encountered many problems while testing my program.
                For instance, when working on the singleplayer game, which was an edited version of the multiplayer game, I found that the game wasn't ending properly, and realised I had to make the game win check at the start of the while loop.
                I also, as mentioned above, had difficulty with the minimax algorithm.
                Eventually I found that the issue was with the games board being abstracted as a dictionary, rather than a much easier array, or list, and the minimax was reading the dictionary key rather than the key's value.
                Throughout, I had difficulty with making sure that integers were read as strings to the console but interpreted as integers in the code. I tested this as necessary by using <code>print(type(variable_name))</code>.
            </p>
            <p>
                I used a number of different tests in this project.
                For example, I used performance testing on different functions to evaluate how much the performance decreased with increased complexity in the code.
                I ultimately decided that the performance cost was insignificant and that having readable code was more important than saving a second or two in running the code.
            </p>
            <p>
                Throughout the integration step, I did many "smoke tests" as soon as a function or snippet was implemented.
                A fast testing and prototyping cycle was essential for me to complete the project as fast as I could, which allowed for fluid programming and quick bug testing.
                The code was simple enough to understand that I could write what modules I needed, and then after the fact go back and add comments and clean up unnecessary lines.
                At various stages, too, I performed unit testing on different functions to ensure their strength.
                I used integration testing, too, to verify that all of the different functions at play didn't break each other.
            </p>
            <h2 id="e-title">Evaluation</h2>
            <p>
                Overall, I was very happy with the project.
                I achieved all of my objectives and managed to implement my personal objective of having the computer be able to play perfectly.
                There are a number of things I wish I had the time to implement.
                I'm disappointed not to be able to display the game graphically.
                Tkinter might have been easier to use than I initially thought, but I wasn't prepared to risk wasting a lot of time on something that would only serve to lengthen the amount of time it took to finish the project.
                I still think it would have been very cool to be able to change the colour of things like the background and board, and changing the labels.
                As I've mentioned before, basing the board as a dictionary was a mistake.
                In future, I would use an array or list.
                I was happy with my decision to use a number between 1 and 9 for each cell, rather than an 'A1', 'B2', 'C3' naming convention, as this made playing the game faster, and therefore easier to bug test.
                I would have liked to make the "Optimal" moves play different games each time, but I'm not entirely sure how I'd go about that.
                I'm disappointed with the analyser file.
                I think I could've planned more time for that section of work, so that I would be able to show more data or display better graphs.
                Ultimately, I wanted to have a fun game, and I am confident I've succeeded.
                I'm especially proud of the autorunner file, as it remains a piece of code I can hopefully modify in future if I want to learn more about data analysis.
            </p>
            <p>
                For the project as a whole, I remain disappointed that I wasn't able to do my project on Battleship.
                I can accept that this is an unrealistic dream, as I struggled enough with tic tac toe, one of the simpler games on my original list.
            </p>
            <h2 id="r-title">References</h2>
            <ol>
                <li id="ref1">Minimax wikipedia - <a href="https://en.wikipedia.org/wiki/Minimax">https://en.wikipedia.org/wiki/Minimax</a></li>
                <li id="ref2">Tic Tac Toe with Tkinter tutorial - <a href="https://realpython.com/tic-tac-toe-python/">https://realpython.com/tic-tac-toe-python/</a></li>
                <li id="ref3">Tic Tac Toe tutorial - <a href="https://medium.com/byte-tales/the-classic-tic-tac-toe-game-in-python-3-1427c68b8874">https://medium.com/byte-tales/the-classic-tic-tac-toe-game-in-python-3-1427c68b8874</a></li>
                <li id="ref4">Minimax sample from question - <a href="https://stackoverflow.com/questions/64644532/minimax-algorithm-in-python-using-tic-tac-toe">https://stackoverflow.com/questions/64644532/minimax-algorithm-in-python-using-tic-tac-toe</a></li>
                <li id="ref5">Minimax example - <a href="https://github.com/agrawal-rohit/tic-tac-toe-bot/blob/master/HumanvsAI_Minimax.py">https://github.com/agrawal-rohit/tic-tac-toe-bot/blob/master/HumanvsAI_Minimax.py</a></li>
                <li id="ref6">CSV help - <a href="https://www.programiz.com/python-programming/writing-csv-files">https://www.programiz.com/python-programming/writing-csv-files</a></li>
            </ol>
            <h2 id="sawc-title">Summary and Word Count</h2>
            <table class="tg">
                <thead>
                  <tr>
                    <th class="table-header">Section</th>
                    <th class="table-header">Word Count</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="table-element">1. Meeting the Brief</td>
                    <td class="table-element">0</td>
                  </tr>
                  <tr>
                    <td class="table-element">2. Investigation and Plan</td>
                    <td class="table-element">404</td>
                  </tr>
                  <tr>
                    <td class="table-element">3. Design</td>
                    <td class="table-element">376</td>
                  </tr>
                  <tr>
                    <td class="table-element">4. Implementation</td>
                    <td class="table-element">483</td>
                  </tr>
                  <tr>
                    <td class="table-element">5. Testing</td>
                    <td class="table-element">357</td>
                  </tr>
                  <tr>
                    <td class="table-element">6. Evaluation</td>
                    <td class="table-element">327</td>
                  </tr>
                  <tr>
                    <td class="table-element">Total:</td>
                    <td class="table-element">1947</td>
                  </tr>
                </tbody>
            </table>
        </div>
    </body>
</html>